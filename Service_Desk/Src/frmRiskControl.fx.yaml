"frmRiskControl As screen.'phoneLayout_FluidGridWithHeaderPageLayout_ver3.0'":
    Fill: =RGBA(237, 237, 237, 1)
    OnHidden: |-
        =Reset(CB_RiskImportant_1);
        Reset(CB_RiskStatus_1);
        Reset(CB_RiskStatus_2);
        Reset(CB_RiskStatus_3);
        Reset(CB_RiskStatus_4);
        Reset(CB_RiskStatus_5);
    OnVisible: |-
        =UpdateContext({varRiskControlKey:"CT"&Text(Last(Risk_Control).Control_Code + 1,"00000")})

    Rectangle3_8 As rectangle:
        BorderThickness: =1
        Fill: =RGBA(186, 202, 226, 1)
        Height: =255
        Width: =1310
        X: =28
        Y: =490
        ZIndex: =1

    RectQuickActionBar2_4 As rectangle:
        Fill: =RGBA(0, 52, 104, 1)
        Height: =88
        Width: =Parent.Width
        ZIndex: =3

    LblAppName2_4 As label:
        Align: =Align.Center
        Color: =RGBA(194, 160, 3, 1)
        Font: =Font.'Segoe UI'
        FontWeight: =FontWeight.Bold
        Height: =88
        Size: =25
        Text: ="THỦ TỤC KIỂM SOÁT RỦI RO"
        Width: =Parent.Width
        ZIndex: =4

    Image2_2 As image:
        Height: =88
        Image: ='Logo PNJ_v2'
        Width: =138
        X: =93
        ZIndex: =6

    Button1_1 As button:
        BorderStyle: =BorderStyle.None
        Fill: =RGBA(0, 0, 0, 0)
        Font: =Font.'Segoe UI'
        Height: =88
        OnSelect: |-
            =If(IsBlank(inp_ControlDescription) || IsBlank(inp_ControlEvaluation) || IsBlank(lb_ControlOwner) || IsBlank(inp_ControlRating),
            UpdateContext({varTemp2:false}),
            Patch(Risk_Control,Defaults(Risk_Control),{Control_Code:varRiskControlKey,Control_Status:"Theo dõi",Control_Description:inp_ControlDescription.Text,Control_Create_Date:Text(dp_ControlCreateDate.SelectedDate,"dd/mm/yyyy"),Main_Control: cb_ControlMain.Selected.Value,Control_Owner:lb_ControlOwner.Text,Control_Type:CB_RiskStatus_1.Selected.Value,Control_Frequency:cb_ControlFrequency.Selected.Value,Control_Classify:cb_contr.Selected.Value,Control_Evaluation:CB_RiskStatus_4.Selected.Value, Control_Evaluation_Basis:TIn_RiskDescribe_1.Text,Control_Overall_Rating:CB_RiskStatus_5.Selected.Value,Control_Rating_Basis:TIn_RiskReason_1.Text});
            /*If(IsBlank(LookUp(Risk_Connection,R_ID=First(RiskInfo).RiskId)),Patch(Risk_Connection,LookUp(Risk_Connection,R_ID=First(RiskInfo).RiskId),{RC_ID:varRiskControlKey,RS_ID:""}),
            Patch(Risk_Connection,Defaults(Risk_Connection),{ID:Last(Risk_Connection).ID+1,R_ID:First(RiskInfo).RiskId,RC_ID:varRiskControlKey,RS_ID:""}))*/
            );
            
            Navigate(frmRiskStatistic,ScreenTransition.Fade)
        PaddingBottom: =12
        RadiusBottomLeft: =0
        RadiusBottomRight: =0
        RadiusTopLeft: =0
        RadiusTopRight: =0
        Size: =25
        Text: ="Lưu"
        Width: =168
        X: =1198
        ZIndex: =7

    Group1_2 As group:
        Height: =5
        Width: =5
        X: =40
        Y: =20
        ZIndex: =13

        Rectangle3_4 As rectangle:
            Fill: =RGBA(0, 52, 104, 1)
            Height: =88
            HoverFill: =ColorFade(Self.BorderColor, 20%)
            OnSelect: =Navigate(frmRiskStatistic,ScreenTransition.Fade)
            Width: =86
            ZIndex: =5

        ic_Back_4 As icon.ChevronLeft:
            AccessibleLabel: ="Navigate to previous page"
            Color: =RGBA(255, 255, 255, 1)
            FocusedBorderColor: =ic_Back_4.BorderColor
            Height: =50
            HoverColor: =ColorFade(Self.BorderColor, 20%)
            HoverFill: =ColorFade(Self.BorderColor, 20%)
            Icon: =Icon.ChevronLeft
            OnSelect: =Navigate(frmRiskStatistic,ScreenTransition.Fade)
            PressedColor: =ColorFade(Self.BorderColor, 20%)
            TabIndex: =0
            Width: =32
            X: =28
            Y: =19
            ZIndex: =8

    HD_RiskID_22 As label:
        Color: =RGBA(92,92,92,1)
        FocusedBorderColor: =HD_RiskID_22.BorderColor
        Font: =Font.'Segoe UI'
        FontWeight: =FontWeight.Semibold
        Height: =35
        HoverBorderColor: =HD_RiskID_22.BorderColor
        HoverColor: =HD_RiskID_22.Color
        HoverFill: =HD_RiskID_22.Fill
        PressedBorderColor: =HD_RiskID_22.BorderColor
        PressedColor: =HD_RiskID_22.Color
        PressedFill: =HD_RiskID_22.Fill
        Size: =12
        Text: ="Mã rủi ro"
        X: =60
        Y: =513
        ZIndex: =32

    HD_RiskStatus_5 As label:
        Color: =RGBA(92,92,92,1)
        FocusedBorderColor: =HD_RiskStatus_5.BorderColor
        Font: =Font.'Segoe UI'
        FontWeight: =FontWeight.Semibold
        Height: =35
        HoverBorderColor: =HD_RiskStatus_5.BorderColor
        HoverColor: =HD_RiskStatus_5.Color
        HoverFill: =HD_RiskStatus_5.Fill
        PressedBorderColor: =HD_RiskStatus_5.BorderColor
        PressedColor: =HD_RiskStatus_5.Color
        PressedFill: =HD_RiskStatus_5.Fill
        Size: =12
        Text: ="Trạng thái rủi ro"
        Width: =130
        X: =687
        Y: =648
        ZIndex: =33

    HD_RiskName_14 As label:
        Color: =RGBA(92,92,92,1)
        FocusedBorderColor: =HD_RiskName_14.BorderColor
        Font: =Font.'Segoe UI'
        FontWeight: =FontWeight.Semibold
        Height: =35
        HoverBorderColor: =HD_RiskName_14.BorderColor
        HoverColor: =HD_RiskName_14.Color
        HoverFill: =HD_RiskName_14.Fill
        PressedBorderColor: =HD_RiskName_14.BorderColor
        PressedColor: =HD_RiskName_14.Color
        PressedFill: =HD_RiskName_14.Fill
        Size: =12
        Text: ="Mô tả rủi ro"
        X: =60
        Y: =558
        ZIndex: =34

    HD_RiskOwner_15 As label:
        Color: =RGBA(92,92,92,1)
        FocusedBorderColor: =HD_RiskOwner_15.BorderColor
        Font: =Font.'Segoe UI'
        FontWeight: =FontWeight.Semibold
        Height: =35
        HoverBorderColor: =HD_RiskOwner_15.BorderColor
        HoverColor: =HD_RiskOwner_15.Color
        HoverFill: =HD_RiskOwner_15.Fill
        PressedBorderColor: =HD_RiskOwner_15.BorderColor
        PressedColor: =HD_RiskOwner_15.Color
        PressedFill: =HD_RiskOwner_15.Fill
        Size: =12
        Text: ="Chủ sở hữu rủi ro"
        X: =60
        Y: =648
        ZIndex: =35

    inp_RiskID As text:
        BorderThickness: =1
        Default: =""
        Height: =35
        HintText: ="Nhập ID rủi ro"
        OnSelect: =
        RadiusBottomLeft: =0
        RadiusBottomRight: =0
        RadiusTopLeft: =0
        RadiusTopRight: =0
        Width: =295
        X: =210
        Y: =483
        ZIndex: =37

    HD_RiskImportant_11 As label:
        Color: =RGBA(92,92,92,1)
        FocusedBorderColor: =HD_RiskImportant_11.BorderColor
        Font: =Font.'Segoe UI'
        FontWeight: =FontWeight.Semibold
        Height: =35
        HoverBorderColor: =HD_RiskImportant_11.BorderColor
        HoverColor: =HD_RiskImportant_11.Color
        HoverFill: =HD_RiskImportant_11.Fill
        PressedBorderColor: =HD_RiskImportant_11.BorderColor
        PressedColor: =HD_RiskImportant_11.Color
        PressedFill: =HD_RiskImportant_11.Fill
        Size: =12
        Text: ="Rủi ro trọng  yếu"
        X: =60
        Y: =693
        ZIndex: =40

    cb_ControlMain As combobox:
        BorderThickness: =1
        ChevronHoverBackground: =RGBA(255, 255, 255, 1)
        DefaultSelectedItems: =
        DisplayFields: =["Value"]
        Font: =Font.'Segoe UI'
        Height: =35
        InputTextPlaceholder: =""
        IsSearchable: =false
        Items: |-
            =Table({Value:"Có",Index:1},
            {Value:"Không",Index:0})
        OnSelect: =
        SearchFields: =["Value"]
        SearchItems: =[]
        SelectionTagFill: =
        SelectMultiple: =false
        Size: =12
        Width: =320
        X: =997
        Y: =146
        ZIndex: =43

    cb_ControlType As combobox:
        BorderThickness: =1
        ChevronHoverBackground: =RGBA(255, 255, 255, 1)
        DefaultSelectedItems: =
        DisplayFields: =["Value"]
        Font: =Font.'Segoe UI'
        Height: =35
        InputTextPlaceholder: =""
        IsSearchable: =false
        Items: |-
            =Table({Value:"Thủ công",Index:1},
            {Value:"Tự động",Index:2})
        OnSelect: =
        SearchFields: =["Value"]
        SearchItems: =[]
        SelectionTagFill: =
        SelectMultiple: =false
        Size: =12
        Width: =320
        X: =997
        Y: =191
        ZIndex: =44

    cb_ControlFrequency As combobox:
        BorderThickness: =1
        ChevronHoverBackground: =RGBA(255, 255, 255, 1)
        DefaultSelectedItems: =
        DisplayFields: =["Value"]
        Font: =Font.'Segoe UI'
        Height: =35
        InputTextPlaceholder: =""
        IsSearchable: =false
        Items: |-
            =Table({Value:"Thủ công",Index:1},
            {Value:"Tự động",Index:2})
        OnSelect: =
        SearchFields: =["Value"]
        SearchItems: =[]
        SelectionTagFill: =
        SelectMultiple: =false
        Size: =12
        Width: =320
        X: =997
        Y: =281
        ZIndex: =45

    HD_RiskName_17 As label:
        Color: =RGBA(92,92,92,1)
        FocusedBorderColor: =HD_RiskName_17.BorderColor
        Font: =Font.'Segoe UI'
        FontWeight: =FontWeight.Semibold
        Height: =35
        HoverBorderColor: =HD_RiskName_17.BorderColor
        HoverColor: =HD_RiskName_17.Color
        HoverFill: =HD_RiskName_17.Fill
        PressedBorderColor: =HD_RiskName_17.BorderColor
        PressedColor: =HD_RiskName_17.Color
        PressedFill: =HD_RiskName_17.Fill
        Size: =12
        Text: ="Tên rủi ro"
        Width: =130
        X: =687
        Y: =513
        ZIndex: =46

    lb_ControlOwner As label:
        Fill: =RGBA(255, 255, 255, 1)
        Font: =Font.'Segoe UI'
        Height: =25
        OnSelect: |-
            =UpdateContext({varLBControlOwner:false,
            HidePeopleGallery:false})
        Size: =12
        Text: =SelectedControlOwner.DisplayName&" - "&SelectedControlOwner.Mail
        Visible: =varLBControlOwner
        Width: =381
        X: =306
        Y: =294
        ZIndex: =48

    Gal_RiskSelecttOwner_8 As gallery.galleryVertical:
        AccessibleLabel: ="People for selection"
        BorderColor: =RGBA(0, 0, 0, 0.16)
        BorderThickness: =1
        DisabledBorderColor: =Gal_RiskSelecttOwner_8.BorderColor
        DisabledFill: =Gal_RiskSelecttOwner_8.Fill
        Fill: =RGBA(255, 255, 255, 1)
        Height: =256
        HoverBorderColor: =Gal_RiskSelecttOwner_8.BorderColor
        HoverFill: =Gal_RiskSelecttOwner_8.Fill
        Items: |
            =If(!IsBlank(inp_ControlOwner.Text), 
            Office365Users.SearchUser({searchTerm:Trim(inp_ControlOwner.Text)}))
        Layout: =Layout.Vertical
        LoadingSpinnerColor: =Gal_RiskSelecttOwner_8.BorderColor
        OnSelect: |-
            = UpdateContext({SelectedControlOwner:ThisItem, HidePeopleGallery:true, 
             varLBControlOwner: true})
        PressedBorderColor: =Gal_RiskSelecttOwner_8.BorderColor
        PressedFill: =Gal_RiskSelecttOwner_8.Fill
        TemplateSize: =53
        Visible: |-
            =Not(IsBlank(inp_ControlOwner)) &&
            !HidePeopleGallery
        Width: =398
        X: =302
        Y: =321
        ZIndex: =49

        LabelPersonDisplayName_10 As label:
            FocusedBorderColor: =LabelPersonDisplayName_10.BorderColor
            Font: =Font.'Segoe UI'
            Height: =53
            HoverBorderColor: =LabelPersonDisplayName_10.BorderColor
            HoverColor: =RGBA(0, 0, 0, 1)
            HoverFill: =RGBA(244, 244, 244, 1)
            OnSelect: =Select(Parent)
            PaddingBottom: =15
            PaddingLeft: =20
            PaddingRight: =0
            PaddingTop: =0
            PressedBorderColor: =LabelPersonDisplayName_10.BorderColor
            PressedColor: =LabelPersonDisplayName_10.Color
            PressedFill: =LabelPersonDisplayName_10.Fill
            Size: =10
            TabIndex: =0
            Text: =ThisItem.DisplayName&" - "&ThisItem.Mail
            Width: =388
            ZIndex: =1

    lb_ControlOwner_1 As label:
        Fill: =RGBA(255, 255, 255, 1)
        Font: =Font.'Segoe UI'
        Height: =23
        OnSelect: |-
            =UpdateContext({varLBRiskOwner:false,
            HidePeopleGallery1:false})
        Size: =12
        Text: =SelectedRisk.Risk_Code
        Visible: =varLBRiskOwner
        Width: =283
        X: =214
        Y: =490
        ZIndex: =50

    Gal_RiskSelecttOwner_9 As gallery.galleryVertical:
        AccessibleLabel: ="People for selection"
        BorderColor: =RGBA(0, 0, 0, 0.16)
        BorderThickness: =1
        DisabledBorderColor: =Gal_RiskSelecttOwner_9.BorderColor
        DisabledFill: =Gal_RiskSelecttOwner_9.Fill
        Fill: =RGBA(255, 255, 255, 1)
        Height: =200
        HoverBorderColor: =Gal_RiskSelecttOwner_9.BorderColor
        HoverFill: =Gal_RiskSelecttOwner_9.Fill
        Items: |
            =If(!IsBlank(inp_RiskID.Text), 
            Search(Risks,inp_RiskID.Text,"Risk_Code"))
        Layout: =Layout.Vertical
        LoadingSpinnerColor: =Gal_RiskSelecttOwner_9.BorderColor
        OnSelect: |-
            = UpdateContext({SelectedRisk:ThisItem, HidePeopleGallery1:true, 
             varLBRiskOwner: true})
        PressedBorderColor: =Gal_RiskSelecttOwner_9.BorderColor
        PressedFill: =Gal_RiskSelecttOwner_9.Fill
        TemplateSize: =53
        Visible: |-
            =Not(IsBlank(inp_RiskID)) &&
            !HidePeopleGallery1
        Width: =295
        X: =210
        Y: =527
        ZIndex: =51

        LabelPersonDisplayName_11 As label:
            FocusedBorderColor: =LabelPersonDisplayName_11.BorderColor
            Font: =Font.'Segoe UI'
            Height: =53
            HoverBorderColor: =LabelPersonDisplayName_11.BorderColor
            HoverColor: =RGBA(0, 0, 0, 1)
            HoverFill: =RGBA(244, 244, 244, 1)
            OnSelect: =Select(Parent)
            PaddingBottom: =15
            PaddingLeft: =20
            PaddingRight: =0
            PaddingTop: =0
            PressedBorderColor: =LabelPersonDisplayName_11.BorderColor
            PressedColor: =LabelPersonDisplayName_11.Color
            PressedFill: =LabelPersonDisplayName_11.Fill
            Size: =10
            TabIndex: =0
            Text: =ThisItem.Risk_Code&" - "&ThisItem.Risk_Name
            Width: =282
            ZIndex: =1

    HD_RiskID_35 As label:
        Color: =RGBA(92,92,92,1)
        FocusedBorderColor: =HD_RiskID_35.BorderColor
        Font: =Font.'Segoe UI'
        FontWeight: =FontWeight.Semibold
        Height: =35
        HoverBorderColor: =HD_RiskID_35.BorderColor
        HoverColor: =HD_RiskID_35.Color
        HoverFill: =HD_RiskID_35.Fill
        PressedBorderColor: =HD_RiskID_35.BorderColor
        PressedColor: =HD_RiskID_35.Color
        PressedFill: =HD_RiskID_35.Fill
        Size: =12
        Text: ="Phân loại"
        Width: =232
        X: =765
        Y: =236
        ZIndex: =52

    Label8_4 As label:
        BorderThickness: =1
        Fill: =RGBA(255, 255, 255, 1)
        Font: =Font.'Segoe UI'
        Height: =35
        Size: =12
        Text: =SelectedRisk.Risk_Name
        Width: =402
        X: =796
        Y: =483
        ZIndex: =52

    cb_ControlMain_1 As combobox:
        BorderThickness: =1
        ChevronHoverBackground: =RGBA(255, 255, 255, 1)
        DefaultSelectedItems: =
        DisplayFields: =["Value"]
        Font: =Font.'Segoe UI'
        Height: =35
        InputTextPlaceholder: =""
        IsSearchable: =false
        Items: |-
            =Table({Value:"Có",Index:1},
            {Value:"Không",Index:0})
        OnSelect: =
        SearchFields: =["Value"]
        SearchItems: =[]
        SelectionTagFill: =
        SelectMultiple: =false
        Size: =12
        Width: =320
        X: =997
        Y: =236
        ZIndex: =53

    Label8_5 As label:
        BorderThickness: =1
        Fill: =RGBA(255, 255, 255, 1)
        Font: =Font.'Segoe UI'
        Height: =77
        Overflow: =Overflow.Scroll
        Size: =12
        Text: =SelectedRisk.Risk_Description
        Width: =1085
        X: =210
        Y: =528
        ZIndex: =53

    HD_RiskID_36 As label:
        Color: =RGBA(92,92,92,1)
        FocusedBorderColor: =HD_RiskID_36.BorderColor
        Font: =Font.'Segoe UI'
        FontWeight: =FontWeight.Semibold
        Height: =35
        HoverBorderColor: =HD_RiskID_36.BorderColor
        HoverColor: =HD_RiskID_36.Color
        HoverFill: =HD_RiskID_36.Fill
        PressedBorderColor: =HD_RiskID_36.BorderColor
        PressedColor: =HD_RiskID_36.Color
        PressedFill: =HD_RiskID_36.Fill
        Size: =12
        Text: ="Kiểm soát chính"
        Width: =258
        X: =44
        Y: =236
        ZIndex: =54

    Label8_6 As label:
        BorderThickness: =1
        Fill: =RGBA(255, 255, 255, 1)
        Font: =Font.'Segoe UI'
        Height: =35
        Size: =12
        Text: =SelectedRisk.Risk_Owner
        Width: =445
        X: =210
        Y: =618
        ZIndex: =54

    cb_ControlMain_2 As combobox:
        BorderThickness: =1
        ChevronHoverBackground: =RGBA(255, 255, 255, 1)
        DefaultSelectedItems: =["Có"]
        DisplayFields: =["Value"]
        Font: =Font.'Segoe UI'
        Height: =35
        InputTextPlaceholder: =""
        IsSearchable: =false
        Items: |-
            =Table({Value:"Có",Index:1},
            {Value:"Không",Index:0})
        OnSelect: =
        SearchFields: =["Value"]
        SearchItems: =[]
        SelectionTagFill: =
        SelectMultiple: =false
        Size: =12
        Width: =402
        X: =302
        Y: =236
        ZIndex: =55

    Label8_7 As label:
        BorderThickness: =1
        Fill: =RGBA(255, 255, 255, 1)
        Font: =Font.'Segoe UI'
        Height: =35
        Size: =12
        Text: =SelectedRisk.Risk_Important
        Width: =445
        X: =210
        Y: =663
        ZIndex: =55

    Label8_8 As label:
        BorderThickness: =1
        Fill: =RGBA(255, 255, 255, 1)
        Font: =Font.'Segoe UI'
        Height: =35
        Size: =12
        Text: =SelectedRisk.Risk_Status
        Width: =472
        X: =823
        Y: =618
        ZIndex: =56

    Group9_3 As group:
        Height: =5
        Width: =5
        X: =20
        Y: =20
        ZIndex: =64

        Rectangle4_3 As rectangle:
            Fill: =RGBA(255, 255, 255, 1)
            Height: =45
            Width: =280
            X: =70
            Y: =459
            ZIndex: =2

        Label6_3 As label:
            Align: =Align.Center
            Color: =RGBA(92, 92, 92, 1)
            Font: =Font.'Segoe UI'
            FontWeight: =FontWeight.Bold
            Height: =45
            Size: =14
            Text: ="Thông tin tham chiếu - Rủi ro"
            Width: =280
            X: =70
            Y: =459
            ZIndex: =42

